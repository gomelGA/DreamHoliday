<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<header th:replace="fragments/header::mm"></header>
<div id="cw">
    <div id="content">
        <div id="content-right">
            <div class="body">
                <div class="bodyWrap" id="user-profile-change">
                    <h1>Моят профил в DreamHoliday.bg</h1>
                    <form method="post" th:object="${user}">
                        <table class="order">
                            <tr>
                                <td class="form-group" th:classappend="${#fields.hasErrors('firstName')} ? 'has-danger'">
                                    <label class="form-control-label" for="fldRegNameFirst">Име</label>
                                    <span class="mandatory">*</span>
                                </td>
                                <td class="input-data" th:classappend="${#fields.hasErrors('firstName')} ? 'has-danger'">
                                    <input type="text" minlength="2" id="fldRegNameFirst" name="firstName" th:field="*{firstName}" class="form-control form-control-danger"/>
                                    <small class="form-group"
                                           th:classappend="${#fields.hasErrors('firstName')} ? 'has-danger'">
                                        <div class="form-control-feedback"
                                             th:each="error : ${#fields.errors('firstName')}"
                                             th:text="${error}">
                                        </div>
                                    </small>
                                </td>
                            </tr>
                            <tr>
                                <td class="form-group" th:classappend="${#fields.hasErrors('lastName')} ? 'has-danger'"><label for="fldRegNameLast">Фамилия</label>
                                    <span class="mandatory">*</span>
                                </td>
                                <td class="input-data" th:classappend="${#fields.hasErrors('lastName')} ? 'has-danger'">
                                    <input type="text" minlength="2" id="fldRegNameLast" name="lastName" th:field="*{lastName}" class="form-control form-control-danger"/>
                                    <small class="form-group"
                                           th:classappend="${#fields.hasErrors('lastName')} ? 'has-danger'">
                                        <div class="form-control-feedback"
                                             th:each="error : ${#fields.errors('lastName')}"
                                             th:text="${error}">
                                        </div>
                                    </small>
                                </td>
                            </tr>
                            <tr>
                                <td class="form-group" th:classappend="${#fields.hasErrors('username')} ? 'has-danger'"><label for="email">Емейл</label>
                                    <span class="mandatory">*</span>
                                </td>
                                <td class="input-data" th:classappend="${#fields.hasErrors('username')} ? 'has-danger'">
                                    <input type="text" id="email" name="username" pattern="^[\w+]{6,}$|^.+@.+\.[a-zA-Z]{2}$" th:field="*{username}" class="form-control form-control-danger"/>
                                    <small class="form-group"
                                           th:classappend="${#fields.hasErrors('username')} ? 'has-danger'">
                                        <div class="form-control-feedback"
                                             th:each="error : ${#fields.errors('username')}"
                                             th:text="${error}">
                                        </div>
                                    </small>
                                </td>
                            </tr>
                            <tr>
                                <td class="label" th:classappend="${#fields.hasErrors('phone')} ? 'has-danger'">
                                    <label for="fldRegPhone">Телефон</label>
                                    <span class="mandatory">*</span>
                                </td>
                                <td class="data" th:classappend="${#fields.hasErrors('phone')} ? 'has-danger'">
                                    <input type="text" pattern="^\+?(?:[0-9] ?){6,14}[0-9]$" id="fldRegPhone" name="phone" th:field="*{phone}" class="form-control form-control-danger"/>
                                    <small class="form-group"
                                           th:classappend="${#fields.hasErrors('phone')} ? 'has-danger'">
                                        <div class="form-control-feedback"
                                             th:each="error : ${#fields.errors('phone')}"
                                             th:text="${error}">
                                        </div>
                                    </small>
                                </td>
                            </tr>
                            <tr>
                                <td class="label">&nbsp;</td>
                                <td class="data">Всички полета, отбелязани с <span class="mandatory">*</span> са
                                    задължителни за попълване
                                </td>
                            </tr>
                            <tr>
                                <td class="label">&nbsp;</td>
                                <td class="data">
                                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                                    <button type="submit" id="btnProfileSave" class="btn-user btn-general">Промени
                                    </button>
                                    <button type="button" id="btnProfileCancel" class="btn-user btn-general"
                                            onclick="javascript:location.href='http://localhost:8080/user/profile';">
                                        Отказ
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </form>
                </div>
            </div>
        </div>
        <div th:replace="fragments/parts/content-left::content-left"></div>
    </div>
</div>

