<form method="post" th:fragment="registration-form" class="registration-form" th:object="${addUserBindingModel}">
    <table class="user-data">
        <tbody>
            <tr>
                <td class="form-group"
                    th:classappend="${#fields.hasErrors('username')} ? 'has-danger'">
                    <label class="form-control-label" for="email">Е-поща </label><span
                        class="mandatory">*</span>
                </td>
                <td class="input-data"
                    th:classappend="${#fields.hasErrors('username')} ? 'has-danger'">
                    <input type="text" pattern="^[\w+]{6,}$|^.+@.+\.[a-zA-Z]{2}$"
                           class="form-control form-control-danger" id="email"
                           name="username" th:field="*{username}"/>
                    <small class="form-group"
                           th:classappend="${#fields.hasErrors('username')} ? 'has-danger'">
                        <div class="form-control-feedback"
                             th:each="error : ${#fields.errors('username')}"
                             th:text="${error}">
                        </div>
                    </small>
                </td>
            </tr>
            <tr>
                <td class="form-group"
                    th:classappend="${#fields.hasErrors('password')} ? 'has-danger'">
                    <label class="form-control-label" for="password">Парола </label><span
                        class="mandatory">*</span>
                </td>
                <td class="input-data"
                    th:classappend="${#fields.hasErrors('password')} ? 'has-danger'">
                    <input type="password"
                           pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&amp;])[A-Za-z\d$@$!%*#?&amp;]{8,}$"
                           class="form-control form-control-danger" id="password"
                           name="password" th:field="*{password}"/>
                    <small class="form-group"
                           th:classappend="${#fields.hasErrors('password')} ? 'has-danger'">
                        <div class="form-control-feedback"
                             th:each="error : ${#fields.errors('password')}" th:text="${error}">
                        </div>
                    </small>
                </td>
            </tr>
            <tr>
                <td>
                    <label class="form-control-label"
                           for="confirmPassword">Парола (потвърдете) </label><span
                        class="mandatory">*</span>
                </td>
                <td>
                    <input type="password"
                           pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&amp;])[A-Za-z\d$@$!%*#?&amp;]{8,}$"
                           class="form-control form-control-danger"
                           id="confirmPassword" name="password" th:field="*{confirmPassword}"/>
                    <small class="form-group"
                           th:classappend="${#fields.hasErrors('global')} ? 'has-danger'">
                        <div class="form-control-feedback"
                             th:each="error : ${#fields.errors('global')}"
                             th:text="${error}">
                        </div>
                    </small>
                </td>
            </tr>
        </tbody>
    </table>
    <br/>
    <h2>Персонална информация</h2>
    <table class="user-data">
        <tbody>
            <tr>
                <td class="form-group"
                    th:classappend="${#fields.hasErrors('firstName')} ? 'has-danger'">
                    <label class="form-control-label" for="firstName">Име</label><span
                        class="mandatory">*</span>
                </td>
                <td class="input-data"
                    th:classappend="${#fields.hasErrors('firstName')} ? 'has-danger'">
                    <input type="text" minlength="2" class="form-control form-control-danger" id="firstName"
                           name="firstName" th:field="*{firstName}"/>
                    <small class="form-group"
                           th:classappend="${#fields.hasErrors('firstName')} ? 'has-danger'">
                        <div class="form-control-feedback"
                             th:each="error : ${#fields.errors('firstName')}"
                             th:text="${error}">
                        </div>
                    </small>
                </td>
            </tr>
            <tr>
                <td class="form-group"
                    th:classappend="${#fields.hasErrors('lastName')} ? 'has-danger'">
                    <label class="form-control-label" for="lastName">Фамилия </label><span
                        class="mandatory">*</span>
                </td>
                <td class="input-data"
                    th:classappend="${#fields.hasErrors('lastName')} ? 'has-danger'">
                    <input type="text" minlength="2" class="form-control form-control-danger" id="lastName"
                           name="lastName" th:field="*{lastName}"/>
                    <small class="form-group"
                           th:classappend="${#fields.hasErrors('lastName')} ? 'has-danger'">
                        <div class="form-control-feedback"
                             th:each="error : ${#fields.errors('lastName')}"
                             th:text="${error}">
                        </div>
                    </small>
                </td>
            </tr>
            <tr>
                <td class="form-group"
                    th:classappend="${#fields.hasErrors('gender')} ? 'has-danger'">
                    <label class="form-control-label" for="gender">Пол </label><span
                        class="mandatory">*</span>
                </td>
                <td class="form-group"
                    th:classappend="${#fields.hasErrors('gender')} ? 'has-danger'">
                    <label class="form-check-label">
                        <input type="radio" class="form-check-input" id="gender"
                               name="gender" th:value="male" th:field="*{gender}"/>
                        <span>Мъж</span>
                    </label>
                    <label class="form-check-label" for="genderFemale">
                        <input type="radio" class="form-check-input" id="genderFemale"
                               name="gender" th:value="female" th:field="*{gender}"/>
                        <span>Жена</span>
                    </label>
                    <small class="form-group"
                           th:classappend="${#fields.hasErrors('gender')} ? 'has-danger'">
                        <div class="form-control-feedback"
                             th:each="error : ${#fields.errors('gender')}"
                             th:text="${error}">
                        </div>
                    </small>
                </td>
            </tr>
            <tr>
                <td class="form-group"
                    th:classappend="${#fields.hasErrors('phone')} ? 'has-danger'">
                    <label class="form-control-label" for="phone">Телефон </label><span
                        class="mandatory">*</span>
                </td>
                <td class="input-data"
                    th:classappend="${#fields.hasErrors('phone')} ? 'has-danger'">
                    <input type="tel" pattern="^\+?(?:[0-9] ?){6,14}[0-9]$" class="form-control form-control-danger"
                           id="phone"
                           name="phone" th:field="*{phone}"/>
                    <small class="form-group"
                           th:classappend="${#fields.hasErrors('phone')} ? 'has-danger'">
                        <div class="form-control-feedback"
                             th:each="error : ${#fields.errors('phone')}"
                             th:text="${error}">
                        </div>
                    </small>
                </td>
            </tr>
            <tr>
                <td class="form-group"
                    th:classappend="${#fields.hasErrors('country')} ? 'has-danger'">
                    <label class="form-control-label" for="country">Държава </label><span
                        class="mandatory">*</span>
                </td>
                <td class="input-data"
                    th:classappend="${#fields.hasErrors('country')} ? 'has-danger'">
                    <select class="form-control" id="country" name="country" th:field="*{country}">
                        <option value="">- моля изберете -</option>
                        <option value="България">България</option>
                        <option value="Румъния">Румъния</option>
                        <option value="Турция">Турция</option>
                        <option value="Сърбия">Сърбия</option>
                    </select>
                    <small class="form-group"
                           th:classappend="${#fields.hasErrors('country')} ? 'has-danger'">
                        <div class="form-control-feedback"
                             th:each="error : ${#fields.errors('country')}"
                             th:text="${error}">
                        </div>
                    </small>
                </td>
            </tr>
            <tr class="blank-row"></tr>
            <tr>
                <td class="form-group"></td>
                <td class="data">Всички полета, отбелязани с <span class="mandatory">*</span>, са
                    задължителни за попълване.
                </td>
            </tr>
            <tr class="blank-row"></tr>
            <tr>
                <td class="form-group"></td>
                <td>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <button type="submit" class="btn btn-success">Регистрация</button>
                </td>
            </tr>
        </tbody>
    </table>
</form>